# æ­¥éª¤çº§æ–­ç‚¹é‡å¯ä½¿ç”¨æŒ‡å—

## å¿«é€Ÿå¼€å§‹

### 1. å¯ç”¨æ­¥éª¤æ§åˆ¶
åœ¨`config.toml`ä¸­è®¾ç½®ï¼š
```toml
[step_control]
enable_step_control = true
```

### 2. å¸¸ç”¨é…ç½®ç¤ºä¾‹

#### é‡æ–°è¿è¡Œå¤±è´¥çš„æ­¥éª¤
```toml
[step_control]
enable_step_control = true
target_loop = 3              # åœ¨ç¬¬3æ¬¡å¾ªç¯
start_step = "rmcdhf"        # ä»rmcdhfå¼€å§‹
end_step = "rmcdhf"          # åªè¿è¡Œrmcdhf
skip_completed_steps = false # å¼ºåˆ¶é‡æ–°è¿è¡Œ
```

#### åªè¿è¡Œæœºå™¨å­¦ä¹ è®­ç»ƒ
```toml
[step_control]
enable_step_control = true
target_loop = 0              # å½“å‰å¾ªç¯
start_step = "train"         # åªè¿è¡Œtrain
end_step = "train"
skip_completed_steps = false
```

#### è·³è¿‡å·²å®Œæˆæ­¥éª¤ç»§ç»­è®¡ç®—
```toml
[step_control]
enable_step_control = true
target_loop = 2
start_step = "auto"          # ä»å¤´å¼€å§‹
end_step = "auto"            # åˆ°æœ€å
skip_completed_steps = true  # è‡ªåŠ¨è·³è¿‡å·²å®Œæˆæ­¥éª¤
```

## æ‰€æœ‰å¯ç”¨æ­¥éª¤

### å®Œæ•´æ­¥éª¤åˆ—è¡¨
1. `initial_csfs` - åˆå§‹åŒ–CSFsæ–‡ä»¶æ•°æ®
2. `choosing_csfs` - ç»„æ€é€‰æ‹©å¤„ç†  
3. `mkdisks` - åˆ›å»ºè®¡ç®—ç£ç›˜
4. `rangular` - è§’ç³»æ•°è®¡ç®—
5. `rwfnestimate` - æ³¢å‡½æ•°ä¼°è®¡
6. `rmcdhf` - è‡ªæ´½åœºè®¡ç®—ï¼ˆç¬¬1æ¬¡å¾ªç¯ï¼‰
7. `rci` - ç»„æ€ç›¸äº’ä½œç”¨è®¡ç®—ï¼ˆç¬¬2+æ¬¡å¾ªç¯ï¼‰
8. `rsave` - ä¿å­˜è®¡ç®—ç»“æœ
9. `jj2lsj` - jjåˆ°LSJè€¦åˆè½¬æ¢
10. `rlevels` - èƒ½çº§æ•°æ®ç”Ÿæˆ
11. `train` - æœºå™¨å­¦ä¹ è®­ç»ƒ

### æ­¥éª¤ä¾èµ–å…³ç³»
```
initial_csfs â†’ choosing_csfs â†’ mkdisks â†’ rangular â†’ rwfnestimate 
    â†“
rmcdhf/rci â†’ rsave â†’ jj2lsj â†’ rlevels â†’ train
```

## é…ç½®å‚æ•°è¯¦è§£

### `enable_step_control`
- **true**: å¯ç”¨æ­¥éª¤çº§æ§åˆ¶
- **false**: æ­£å¸¸æ‰§è¡Œï¼ˆé»˜è®¤ï¼‰

### `target_loop`
- **0**: æ‰€æœ‰å¾ªç¯æ­£å¸¸æ‰§è¡Œï¼ˆé»˜è®¤ï¼‰
- **>0**: åªåœ¨æŒ‡å®šå¾ªç¯ä¸­åº”ç”¨æ­¥éª¤æ§åˆ¶

### `start_step`
- **"auto"**: ä»å¾ªç¯å¼€å§‹æ‰§è¡Œï¼ˆé»˜è®¤ï¼‰
- **æ­¥éª¤å**: ä»æŒ‡å®šæ­¥éª¤å¼€å§‹

### `end_step`
- **"auto"**: æ‰§è¡Œåˆ°å¾ªç¯ç»“æŸï¼ˆé»˜è®¤ï¼‰
- **æ­¥éª¤å**: æ‰§è¡Œåˆ°æŒ‡å®šæ­¥éª¤ååœæ­¢

### `skip_completed_steps`
- **true**: è‡ªåŠ¨è·³è¿‡å·²å®Œæˆæ­¥éª¤ï¼ˆé»˜è®¤ï¼‰
- **false**: å¼ºåˆ¶é‡æ–°æ‰§è¡Œæ‰€æœ‰æ­¥éª¤

## å®é™…ä½¿ç”¨åœºæ™¯

### åœºæ™¯1: rmcdhfè®¡ç®—å¤±è´¥é‡å¯
```bash
# 1. ä¿®æ”¹config.toml
[step_control]
enable_step_control = true
target_loop = 2
start_step = "rmcdhf"
end_step = "rmcdhf"
skip_completed_steps = false

# 2. é‡æ–°è¿è¡Œè„šæœ¬
sbatch run_script.sh
```

### åœºæ™¯2: è·³è¿‡GRASPè®¡ç®—ï¼Œåªåšæœºå™¨å­¦ä¹ 
```bash
# é€‚ç”¨äºGRASPè®¡ç®—å·²å®Œæˆï¼Œåªæƒ³é‡æ–°è®­ç»ƒæ¨¡å‹
[step_control]
enable_step_control = true
target_loop = 3
start_step = "train"
end_step = "train"
skip_completed_steps = false
```

### åœºæ™¯3: æ™ºèƒ½æ–­ç‚¹ç»­ç®—
```bash
# è®¡ç®—ä¸­æ–­åï¼Œè‡ªåŠ¨è·³è¿‡å·²å®Œæˆæ­¥éª¤ç»§ç»­
[step_control]
enable_step_control = true
target_loop = 0
start_step = "auto"
end_step = "auto"
skip_completed_steps = true
```

## æ—¥å¿—æŸ¥çœ‹

### æŸ¥çœ‹æ­¥éª¤æ§åˆ¶çŠ¶æ€
```bash
grep "æ­¥éª¤æ§åˆ¶é…ç½®" *.log
grep "â­ï¸" *.log          # æŸ¥çœ‹è·³è¿‡çš„æ­¥éª¤
grep "ğŸ›‘" *.log          # æŸ¥çœ‹åœæ­¢ç‚¹
```

### æŸ¥çœ‹æ­¥éª¤æ‰§è¡Œæƒ…å†µ
```bash
grep "================" *.log    # æŸ¥çœ‹æ­¥éª¤å¼€å§‹
grep "âœ…" *.log                  # æŸ¥çœ‹å®Œæˆæ­¥éª¤
grep "âŒ" *.log                  # æŸ¥çœ‹å¤±è´¥æ­¥éª¤
```

## æ³¨æ„äº‹é¡¹

### âš ï¸ é‡è¦æé†’
1. **æ­¥éª¤ä¾èµ–**: è·³è¿‡æŸäº›æ­¥éª¤å¯èƒ½å¯¼è‡´åç»­æ­¥éª¤å¤±è´¥
2. **æ•°æ®ä¸€è‡´æ€§**: å¼ºåˆ¶é‡æ–°æ‰§è¡Œå¯èƒ½è¦†ç›–ç°æœ‰ç»“æœ
3. **æ–‡ä»¶æ£€æŸ¥**: å®Œæˆæ£€æµ‹åŸºäºè¾“å‡ºæ–‡ä»¶ï¼Œå¯èƒ½ä¸å¤Ÿç²¾ç¡®

### ğŸ’¡ æœ€ä½³å®è·µ
1. **æµ‹è¯•æ¨¡å¼**: å…ˆåœ¨å°èŒƒå›´æµ‹è¯•æ­¥éª¤æ§åˆ¶
2. **å¤‡ä»½æ•°æ®**: ä½¿ç”¨å‰å¤‡ä»½é‡è¦è®¡ç®—ç»“æœ
3. **æ—¥å¿—ç›‘æ§**: å¯†åˆ‡å…³æ³¨æ—¥å¿—è¾“å‡ºç¡®è®¤æ­¥éª¤æ‰§è¡Œ
4. **é€æ­¥è°ƒè¯•**: ä¸€æ¬¡åªæ§åˆ¶ä¸€ä¸ªæ­¥éª¤è¿›è¡Œè°ƒè¯•

## æ•…éšœæ’é™¤

### æ­¥éª¤æ²¡æœ‰è·³è¿‡ï¼Ÿ
- æ£€æŸ¥`enable_step_control = true`
- ç¡®è®¤`target_loop`è®¾ç½®æ­£ç¡®
- æŸ¥çœ‹æ—¥å¿—ä¸­çš„æ­¥éª¤æ§åˆ¶é…ç½®

### æ„å¤–åœæ­¢ï¼Ÿ
- æ£€æŸ¥`end_step`é…ç½®
- æŸ¥çœ‹æ—¥å¿—ä¸­çš„åœæ­¢æ¶ˆæ¯

### æ­¥éª¤é‡å¤æ‰§è¡Œï¼Ÿ
- è®¾ç½®`skip_completed_steps = true`
- æ£€æŸ¥è¾“å‡ºæ–‡ä»¶æ˜¯å¦å­˜åœ¨

## æ¢å¤æ­£å¸¸æ¨¡å¼

å½“è°ƒè¯•å®Œæˆåï¼Œæ¢å¤æ­£å¸¸æ‰§è¡Œï¼š
```toml
[step_control]
enable_step_control = false
```

æˆ–è€…ç›´æ¥æ³¨é‡Šæ‰æ•´ä¸ªé…ç½®å—ã€‚